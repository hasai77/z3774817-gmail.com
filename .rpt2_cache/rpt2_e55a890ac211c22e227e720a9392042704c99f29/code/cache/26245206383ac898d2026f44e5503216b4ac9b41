{
  "code": "import { ui } from \"../../ui/layaMaxUI\";\r\nvar Handler = Laya.Handler;\r\nvar Event = Laya.Event;\r\nvar BullRule = ui.GameAthleticsBull.Ruels.RoomRuleUI;\r\nvar LandlordRoomRule = ui.GameAthleticsLandlord.Rules.LandlordRoomRuleUI;\r\nvar ThreeDukeRoomRule = ui.GameAthleticsThreeDuke.Rules.ThreeDukeRoomRuleUI;\r\nvar TwentyoneroomRule = ui.GameAthleticsTwentyone.Rules.TwentyoneroomRuleUI;\r\nvar TwoEightroomRule = ui.GameAthleticsTwoEight.Rules.TwoEightroomRuleUI;\r\nimport Base from \"../../base/base\";\r\nexport default class CommonCreatRoom extends ui.GameCommonUI.CommonCreatRoomUI {\r\n    constructor() {\r\n        super();\r\n    }\r\n    onAwake() {\r\n        this.close_btn.on(Event.CLICK, this, () => {\r\n            Base.publicFun.hideAlert(this, () => { this.removeSelf(); });\r\n        });\r\n        this.clear_btn.on(Event.CLICK, this, () => {\r\n            for (let index = 0; index < this.curRuleView.radios.numChildren; index++) {\r\n                this.curRuleView.radios.getChildAt(index).checkIndex = 0;\r\n            }\r\n            if (this.curRuleView.checks) {\r\n                for (let index = 0; index < this.curRuleView.checks.numChildren; index++) {\r\n                    this.curRuleView.checks.getChildAt(index).checked = false;\r\n                }\r\n            }\r\n        });\r\n        this.confirm_btn.on(Event.CLICK, this, () => {\r\n            let data = {\r\n                radios: [],\r\n                checks: []\r\n            };\r\n            for (let index = 0; index < this.curRuleView.radios.numChildren; index++) {\r\n                let checkIndex = this.curRuleView.radios.getChildAt(index).checkIndex;\r\n                data.radios.push(checkIndex);\r\n            }\r\n            if (this.curRuleView.checks) {\r\n                for (let index = 0; index < this.curRuleView.checks.numChildren; index++) {\r\n                    let checked = this.curRuleView.checks.getChildAt(index).checked;\r\n                    data.checks.push(checked);\r\n                }\r\n            }\r\n            console.log(data);\r\n        });\r\n        this.tabButtons_list.selectEnable = true;\r\n        this.tabButtons_list.renderHandler = new Handler(this, this.updateItem);\r\n        this.tabButtons_list.selectHandler = new Handler(this, this.onSelect, null, false);\r\n        this.tabButtons_list.vScrollBarSkin = \"\";\r\n        this.tabButtons_list.elasticEnabled = true;\r\n        this.setArray([{\r\n                name: \"牛牛\",\r\n                ruleView: BullRule,\r\n            }, {\r\n                name: \"斗地主\",\r\n                ruleView: LandlordRoomRule,\r\n            }, {\r\n                name: \"三公\",\r\n                ruleView: ThreeDukeRoomRule,\r\n            }, {\r\n                name: \"二八\",\r\n                ruleView: TwoEightroomRule,\r\n            }, {\r\n                name: \"21点\",\r\n                ruleView: TwentyoneroomRule,\r\n            }, {\r\n                name: \"牛牛\",\r\n                ruleView: BullRule,\r\n            }, {\r\n                name: \"斗地主\",\r\n                ruleView: LandlordRoomRule,\r\n            }, {\r\n                name: \"三公\",\r\n                ruleView: ThreeDukeRoomRule,\r\n            }, {\r\n                name: \"二八\",\r\n                ruleView: TwoEightroomRule,\r\n            }, {\r\n                name: \"21点\",\r\n                ruleView: TwentyoneroomRule,\r\n            },]);\r\n        this.tabButtons_list.selectedIndex = 0;\r\n    }\r\n    setArray(list) {\r\n        this.tabButtons_list.array = list;\r\n    }\r\n    updateItem(cell, index) {\r\n        let selected = cell.getChildByName(\"selected\");\r\n        let unselect = cell.getChildByName(\"unselect\");\r\n        let selected_text = cell.getChildByName(\"selected_text\");\r\n        let unselect_text = cell.getChildByName(\"unselect_text\");\r\n        selected_text.text = this.tabButtons_list.array[index].name;\r\n        unselect_text.text = this.tabButtons_list.array[index].name;\r\n        selected.visible = this.tabButtons_list.array[index].show;\r\n        selected_text.visible = this.tabButtons_list.array[index].show;\r\n        unselect.visible = !this.tabButtons_list.array[index].show;\r\n        unselect_text.visible = !this.tabButtons_list.array[index].show;\r\n    }\r\n    onSelect(index) {\r\n        console.log(\"当前选择的索引：\" + index);\r\n        for (let i = 0; i < this.tabButtons_list.array.length; i++) {\r\n            this.tabButtons_list.array[i].show = false;\r\n        }\r\n        this.tabButtons_list.array[index].show = true;\r\n        if (this.curRuleView)\r\n            this.curRuleView.removeSelf();\r\n        this.curRuleView = new (this.tabButtons_list.array[index].ruleView)();\r\n        this.rule_group.addChild(this.curRuleView);\r\n    }\r\n}\r\n",
  "references": [
    "C:/Users/Administrator/Documents/majiang/src/ui/layaMaxUI.ts",
    "C:/Users/Administrator/Documents/majiang/src/base/base.ts",
    "C:/Users/Administrator/Documents/majiang/src/Application/GameCommon/widget/CommonRadioGroup.ts",
    "C:/Users/Administrator/Documents/majiang/src/Application/GameCommon/widget/CommonCheck.ts"
  ]
}
