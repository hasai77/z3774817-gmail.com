{"code":"import { ui } from \"../../ui/layaMaxUI\";\r\nvar Event = Laya.Event;\r\nimport Base from \"../../base/base\";\r\nexport default class FruitTable extends ui.GameHundredsFruit.FruitTableUI {\r\n    constructor() {\r\n        super();\r\n        this.fruitList = [];\r\n        this.curIndex = 0;\r\n    }\r\n    onAwake() {\r\n        for (let i = 0; i < this.items_group.numChildren; i++) {\r\n            this.fruitList.push(this.items_group.getChildAt(i));\r\n            Base.publicFun.setCenter(this.fruitList[i]);\r\n        }\r\n        this.start_btn.on(Event.CLICK, this, () => {\r\n            this.startAni();\r\n        });\r\n        this.clear_btn.on(Event.CLICK, this, () => {\r\n            this.stopIndex = Math.floor((Math.random() * this.fruitList.length + 1));\r\n            console.log(this.stopIndex);\r\n        });\r\n    }\r\n    startAni() {\r\n        this.delay = 10;\r\n        this.stopIndex = -1;\r\n        this.changeOnce();\r\n    }\r\n    changeOnce() {\r\n        Laya.timer.frameOnce(this.delay, this, () => {\r\n            Laya.Tween.to(this.fruitList[this.curIndex], { scaleX: 1, scaleY: 1 }, 200);\r\n            this.curIndex = ++this.curIndex % this.fruitList.length;\r\n            Laya.Tween.to(this.fruitList[this.curIndex], { scaleX: 1.5, scaleY: 1.5 }, 200);\r\n            if (this.stopIndex > -1) {\r\n                if (this.delay < 10) {\r\n                    this.delay += 2;\r\n                }\r\n                else if (this.delay < 20) {\r\n                    this.delay += 0.8;\r\n                }\r\n                else if (this.delay < 30) {\r\n                    this.delay += 0.5;\r\n                }\r\n            }\r\n            else {\r\n                if (this.delay > 8) {\r\n                    this.delay -= 0.8;\r\n                }\r\n                else if (this.delay > 5) {\r\n                    this.delay -= 0.5;\r\n                }\r\n                else if (this.delay > 2) {\r\n                    this.delay -= 0.2;\r\n                }\r\n            }\r\n            if (this.stopIndex != this.curIndex || this.delay < 10) {\r\n                this.changeOnce();\r\n            }\r\n        });\r\n    }\r\n}\r\n","references":["C:/Users/Administrator/Documents/majiang/src/ui/layaMaxUI.ts","C:/Users/Administrator/Documents/majiang/src/base/base.ts"]}
