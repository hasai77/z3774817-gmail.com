{"code":"import { ui } from \"../../../ui/layaMaxUI\";\r\nimport Prop from \"./Prop\";\r\nvar Handler = Laya.Handler;\r\nvar Tween = Laya.Tween;\r\nexport default class Deal extends ui.GameCommonUI.Athletics.DealUI {\r\n    constructor() {\r\n        super();\r\n    }\r\n    startDeal(userList, total, userInfoList) {\r\n        let leng = userList.length;\r\n        this.dealIndex = 0;\r\n        this.propDataArr = [];\r\n        if (userInfoList) {\r\n            for (let i = 0; i < userInfoList.length; i++) {\r\n                for (let index = 0; index < userInfoList.length; index++) {\r\n                    this.propDataArr.push((userInfoList[index].PropList[i] || null));\r\n                }\r\n            }\r\n        }\r\n        Laya.timer.loop(50, this, this.loopFun, [userList, leng, total]);\r\n    }\r\n    loopFun(userList, leng, total) {\r\n        let card = new Prop();\r\n        let user = userList[this.dealIndex % leng];\r\n        card.prop_Number = this.propDataArr[this.dealIndex] ? this.propDataArr[this.dealIndex].GetPropNum() : -1;\r\n        this.addChild(card);\r\n        Laya.SoundManager.playSound(\"GameCommon/sound/Games_Common_Sound_DealCard.mp3\");\r\n        this.dealToUser(card, user);\r\n        (++this.dealIndex >= total) && Laya.timer.clear(this, this.loopFun);\r\n    }\r\n    dealToUser(card, user, speed = 300) {\r\n        let pos = user.curtDealPos;\r\n        Tween.to(card, { x: pos.x, y: pos.y }, speed, null, Handler.create(this, () => {\r\n            user.recvCard(card.prop_Number);\r\n            card.removeSelf();\r\n        }));\r\n    }\r\n}\r\n","references":["C:/Users/Administrator/Documents/majiang/src/ui/layaMaxUI.ts","C:/Users/Administrator/Documents/majiang/src/Application/GameCommon/widget/Prop.ts","C:/Users/Administrator/Documents/majiang/src/Application/GameCommon/widget/UserPropList.ts","C:/Users/Administrator/Documents/majiang/src/base/base.ts"]}
