{"code":"var Handler = Laya.Handler;\r\nexport default class SceneManager {\r\n    constructor() {\r\n        this.sceneList = {};\r\n        this.init();\r\n    }\r\n    ;\r\n    static getinstance() {\r\n        if (this.instance == null)\r\n            this.instance = new SceneManager();\r\n        return this.instance;\r\n    }\r\n    rigesterScene(name, param) {\r\n        this.sceneList[name] = param;\r\n    }\r\n    init() {\r\n        this.rigesterScene(\"Login\", { url: \"./Login/Login.scene\" });\r\n        this.rigesterScene(\"Hall\", { url: \"./Hall.scene\" });\r\n    }\r\n    changeScene(name, loadPage, removeCur = true) {\r\n        loadPage.onAwake = () => {\r\n            Laya.Scene.open;\r\n            Laya.Scene.load(this.sceneList[name].url, Handler.create(this, (scene) => {\r\n                if (this.curScene) {\r\n                    this.curScene.destroy();\r\n                }\r\n                Laya.timer.once(500, this, () => {\r\n                    Laya.Scene.root.addChild(scene);\r\n                    this.curScene = scene;\r\n                    loadPage.removeSelf();\r\n                });\r\n            }), Handler.create(this, (e) => {\r\n                loadPage.progress.percent = (e * 100);\r\n            }, null, false));\r\n        };\r\n        Laya.stage.addChild(loadPage);\r\n    }\r\n}\r\n","references":[]}
